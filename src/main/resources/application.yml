# 公共配置文件
spring:
  application:
    name: ai-code-father
  # 默认 dev 环境
  profiles:
    active: local
  # 支持 swagger3
  mvc:
    pathmatch:
      matching-strategy: ant_path_matcher
  # session 配置
  session:
    # todo 取消注释开启分布式 session（须先配置 Redis）
    store-type: redis
    # 30 天过期
    timeout: 2592000
  # 数据库配置
  # todo 需替换配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/ai_code_mother
    username: user
    password: 123456
  # Redis 配置
  # todo 需替换配置，然后取消注释
  data:
    redis:
      database: 2
      host: localhost
      port: 6379
      timeout: 5000
      ttl: 3600
  # 文件上传
  servlet:
    multipart:
      # 大小限制
      max-file-size: 10MB
server:
  address: 0.0.0.0
  port: 8101
  servlet:
    context-path: /api
    # cookie 30 天过期
    session:
      cookie:
        max-age: 2592000
#mybatis-plus:
#  configuration:
#    map-underscore-to-camel-case: false
#    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
#  global-config:
#    db-config:
#      logic-delete-field: isDelete # 全局逻辑删除的实体字段名
#      logic-delete-value: 1 # 逻辑已删除值（默认为 1）
#      logic-not-delete-value: 0 # 逻辑未删除值（默认为 0）
# MyBatis-Flex 配置
mybatis-flex:
  configuration:
    map-underscore-to-camel-case: false
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  # 如果使用 XML 映射文件，指定其位置
  mapper-locations: classpath:mapper/*.xml
  global-config:
    logic-delete-field: isDelete
    logic-delete-value: 1
    logic-not-delete-value: 0
# 接口文档配置
knife4j:
  enable: true
  openapi:
    title: "接口文档"
    version: 1.0
    group:
      default:
        api-rule: package
        api-rule-resources:
          - com.feng.springboot.controller
# AI 模型配置
langchain4j:
  open-ai:
    chat-model:
      base-url: https://api.deepseek.com
      api-key: sk-1d11c6266018443d9dcc071a46cc9d53
      model-name: deepseek-chat
      #      strict-json-schema: true
      #      response-format: json_object
      max-tokens: 8192
      log-requests: true
      log-responses: true
      max-retries: 3
#    streaming-chat-model:
#      base-url: https://api.deepseek.com
#      api-key: sk-1d11c6266018443d9dcc071a46cc9d53
#      model-name: deepseek-chat
#      max-tokens: 8192
#      log-requests: true
#      log-responses: true
    # 推理 AI 模型配置（用于复杂的推理任务）
    reasoning-streaming-chat-model:
      base-url: https://api.deepseek.com
      api-key: sk-1d11c6266018443d9dcc071a46cc9d53
      model-name: deepseek-reasoner
      max-tokens: 32768
      temperature: 0.1
      log-requests: true
      log-responses: true
    # 智能路由 AI 模型配置（用于简单的分类任务）
    routing-chat-model:
      base-url: https://dashscope.aliyuncs.com/compatible-mode/v1
      api-key: sk-1d11c6266018443d9dcc071a46cc9d53
      model-name: qwen-turbo
      max-tokens: 100
      log-requests: true
      log-responses: true

cos:
  client:
    host: https://screenshot-1342767484.cos.ap-chengdu.myqcloud.com
    secretId: AKIDdJm15wZErJhzTsGd3JRTM6fGj182jDTe
    secretKey: 6yd5JJ6f1GKDtMceeVAcqrfFcpeLgssf
    bucket: picture-1342767484
    region: ap-chengdu
pexels:
  api-key: rkpxN6Nf7o1SDvn74oh6J80C6wnBG81VG0KMTW9dQoq2FQxQpNKY3NiD
# 阿里云 DashScope 配置
dashscope:
  api-key: sk-fdba0abcd3f745d9801dfd78b6e89949
  image-model: wan2.2-t2i-flash
management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus
  endpoint:
    health:
      show-details: always



