# 架构文档 (arch.md)

## 项目概述

本项目是一个基于 Spring Boot 的 AI 代码生成工具，整合了多种 AI 模型和工具链，支持代码生成、质量检查、图像收集等功能。项目采用模块化设计，便于扩展和维护。

## 技术栈

### 核心框架
- **Spring Boot 3.5.4**: 提供快速开发和微服务支持。
- **LangChain4j**: 用于集成 AI 模型和工具链。
- **LangGraph4j**: 支持工作流编排和状态管理。

### 数据存储
- **MySQL**: 关系型数据库，用于存储用户和应用数据。
- **Redis**: 缓存和分布式会话管理。
- **腾讯云 COS**: 对象存储服务，用于文件上传和管理。

### 工具与库
- **MyBatis-Flex**: 数据访问层框架。
- **Hutool**: 工具库，提供常用功能封装。
- **Selenium**: 网页截图工具。
- **Knife4j**: API 文档生成工具。

## 架构设计

### 分层架构
1. **Controller 层**: 处理 HTTP 请求和响应。
2. **Service 层**: 业务逻辑实现。
3. **Mapper 层**: 数据访问接口。
4. **Model 层**: 数据模型定义。

### 核心模块
1. **AI 代码生成**: 支持多种代码生成类型（如 HTML、多文件代码）。
2. **工作流引擎**: 基于 LangGraph4j 实现复杂工作流（如代码质量检查、图像收集）。
3. **监控与日志**: 集成 Spring Actuator 和 Prometheus，支持性能监控。

## 部署与运行

1. **依赖安装**: 确保 MySQL、Redis 和 Elasticsearch 已安装并配置。
2. **配置文件**: 修改 `application.yml` 中的数据库和存储配置。
3. **启动项目**: 运行 `MainApplication` 类启动应用。

## 后续优化

1. **性能优化**: 引入缓存机制，减少数据库查询。
2. **扩展性**: 支持更多 AI 模型和工具链集成。
3. **安全性**: 增强 API 鉴权和数据加密。